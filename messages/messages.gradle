apply plugin: 'java'

def templateDir = "../smrt-release/src-templates"


repositories {
	mavenCentral()
	maven {
		url 'http://flexo.fearlessgames.se/artifactory/libs-local'
		credentials {
			username = "reader"
			password = "f3ArlessGamesR0X!"
		}
	}
}


configurations {
	generate
}

dependencies {
//	generateCompile project(":smrt")
//	generateCompile 'se.smrt:smrt-generator:1.0'
//	generateCompile 'org.apache.velocity:velocity:1.7'
	compile 'se.fearless.fearless-common:core:1.0-SNAPSHOT'
	compile 'com.google.guava:guava:18.0'
	compile 'se.smrt:smrt-runtime:1.0'
	compile project(':shared')
	compile project(':ardortech')
}




task generate(type: JavaCompile) {
	source = sourceSets.main.java

//	classpath = configurations.compile + configurations.generateCompile
//	classpath.forEach {
//		if (it.name.contains("Codec")) {
//			def tree = zipTree(it)
//			tree.forEach {
//				println it.name
//			}
//		}

//	}
	//options.compilerArgs = [
//			"-Atemplatedir=$templateDir",
//			"-processor", "se.smrt.generator.MessageCodeGenerator"
//	]
//	destinationDir = sourceSets.generated.java.srcDirs.first()
}

